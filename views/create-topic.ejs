<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Create Topic · <%= club.name %></title>
  <link href="/output.css" rel="stylesheet" />
</head>
<body class="flex bg-gray-900 text-white min-h-screen p-6 justify-center items-center max-w-dvw">
  <div class="flex w-full gap-6">
    <!-- Left: spacer to keep 3-col layout -->
    <div class="flex w-1/3 pr-16"></div>

    <!-- Middle: centered card -->
    <main class="flex w-1/3 flex-col items-center justify-center">
      <div class="w-4/5 bg-gray-800 rounded-2xl p-6 shadow-lg">
        <h1 class="text-2xl font-semibold mb-1">Create Topic</h1>
        <p class="text-sm text-gray-400 mb-4">Club: <span class="text-gray-200"><%= club.name %></span></p>

        <% if (error) { %>
          <div class="mb-3 rounded-lg border border-red-600 bg-red-900/30 px-3 py-2 text-sm text-red-200">
            <%= error %>
          </div>
        <% } %>

        <form action="/club/<%= club.id %>/create-topic" method="POST" class="flex flex-col gap-4">
          <!-- Title -->
          <div>
            <label for="title" class="block text-sm mb-1">Title</label>
            <input
              id="title"
              name="title"
              type="text"
              required
              maxlength="120"
              pattern="\S.+"
              class="w-full rounded-lg p-2 bg-gray-700 text-white focus:outline-none focus:ring-2 focus:ring-blue-500"
              placeholder="Why cats are the best pets?"
            />
            <p class="text-xs text-gray-500 mt-1">Max 120 characters.</p>
          </div>

          <!-- First message -->
          <div>
            <label for="message" class="block text-sm mb-1">Message</label>
            <textarea
              id="message"
              name="message"
              required
              pattern="\S[\s\S]*"
              title="Message cannot be empty or whitespace only"
              maxlength="1000"
              rows="6"
              class="w-full rounded-lg p-2 bg-gray-700 text-white focus:outline-none focus:ring-2 focus:ring-blue-500"
              placeholder="Write the first post for this topic…"
            ></textarea>
          </div>

          <!-- Actions -->
          <div class="flex gap-3">
            <button type="submit" class="flex-1 rounded-lg p-3 bg-blue-600 hover:bg-blue-700">
              Create Topic
            </button>
            <a href="/club/<%= club.id %>" class="flex-1 text-center rounded-lg p-3 bg-gray-700 hover:bg-gray-600">
              Cancel
            </a>
          </div>
        </form>
      </div>
    </main>

    <!-- Right: spacer -->
    <div class="flex w-1/3"></div>
  </div>
</body>
</html>
